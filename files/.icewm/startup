#!/bin/sh

# --- Javelin OS Autostart Script ---

# Kill existing processes to prevent duplicates on session restart
killall -q dunst picom nm-applet pa-applet blueman-applet xfce4-power-manager

# Set environment variable for consistent Qt5 themeing
export QT_QPA_PLATFORMTHEME=qt5ct

# Ensure NumLock is on at login
numlockx on &

# Start the notification daemon
dunst &

# Compositor for transparency, shadows, and VSync
picom --daemon &

# Wallpaper and desktop icon manager
pcmanfm --desktop &

# --- System Tray Applets ---
nm-applet &
pa-applet &
blueman-applet &

# Power manager (for laptops and desktops)
xfce4-power-manager &

# Screen locker integrated with the login manager
light-locker &